<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record model="ir.module.category" id="module_egp_time_off">
        <field name="name">Egp Time Off</field>
        <field name="description">Category for time off management</field>
        <field name="sequence">5</field>
    </record>

    <!-- head group   -->
    <record model="res.groups" id="super_admin">
        <field name="name">Super Admin</field>
        <field name="category_id" ref="module_egp_time_off"/>
    </record>

<!--    super user menu -->
    <record id="hr_holidays.hr_holidays_status_menu_configuration" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.menu_hr_available_holidays_report_tree" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>


    <record id="hr_holidays.hr_leave_menu_new_request" model="ir.ui.menu">
       <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_leave_menu_my" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

    <record id="hr_holidays.hr_holidays_accrual_menu_configuration" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

    <record id="hr_holidays.menu_hr_holidays_my_leaves" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_holidays_public_time_off_menu_configuration" model="ir.ui.menu">
      <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_holidays_mandatory_day_menu_configuration" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_leave_menu_my" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.menu_open_allocation" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_holidays_menu_manager_approve_allocations" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.menu_hr_holidays_management" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

      <record id="hr_holidays.menu_open_department_leave_approve" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />


    </record>

    <record id="hr_holidays.hr_holidays_menu_manager_approve_allocations" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>


    <record id="hr_holidays.menu_hr_holidays_configuration" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.menu_hr_holidays_report" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>

    <record id="hr_holidays.hr_holidays_menu_config_activity_type" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.super_admin')), (4, ref('base.user_admin'))]" />

    </record>



<!--    super user recod rolle-->


   <record id="hr_leave_rule_superuser" model="ir.rule">
        <field name="name">Time Off Administrator</field>
        <field name="model_id" ref="egp_hr_time_off.model_hr_leave"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>

    <record id="hr_leave_rule_manager" model="ir.rule">
        <field name="name">Time Off Administrator</field>
        <field name="model_id" ref="egp_hr_time_off.model_hr_leave"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>


    <record id="hr_leave_report_rule_group_user" model="ir.rule">
        <field name="name">Time Off Summary / Report: Internal User</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_report"/>
        <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

     <record id="resource_leaves_holidays_user" model="ir.rule">
        <field name="name">Time Off Resources: All Approver</field>
        <field name="model_id" ref="hr_holidays.model_resource_calendar_leaves"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>


     <record id="hr_leave_rule_user_read" model="ir.rule">
        <field name="name">Time Off All Approver read</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>



    <record id="hr_leave_rule_officer_update" model="ir.rule">
        <field name="name">Time Off All Approver create/write</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave"/>
        <field name="domain_force">[
            ('holiday_type', '=', 'employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id', '=', user.id),
                    ('state', '!=', 'validate'),
                '|',
                    ('employee_id.user_id', '!=', user.id),
                    ('employee_id.user_id', '=', False)
        ]</field>
        <field name="perm_read" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

    <record id="hr_leave_allocation_rule_officer_update" model="ir.rule">
        <field name="name">Allocations: holiday user: create/write</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="domain_force">[
            ('holiday_type', '=', 'employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id', '=', user.id),
                    ('state', '!=', 'validate'),
                '|',
                    ('employee_id.user_id', '!=', user.id),
                    ('employee_id.user_id', '=', False)
        ]</field>
        <field name="groups" eval="[(4,ref('egp_hr_time_off.super_admin'))]"/>
    </record>

    <record id="hr_leave_allocation_rule_officer_read" model="ir.rule">
        <field name="name">Allocations: see all time off: read all</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

     <record id="hr_leave_allocation_rule_manager" model="ir.rule">
        <field name="name">Allocations: administrator: no limit</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
    </record>

    <record id="hr_allocation_group_employee" model="ir.rule">
        <field name="name">HR allocation</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.super_admin'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>


    <record model="res.groups" id="officer">
        <field name="name">Officer</field>
        <field name="category_id" ref="module_egp_time_off"/>
    </record>
<!--    officer menu settings-->
    <record id="hr_holidays.menu_hr_holidays_report" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

    <record id="hr_holidays.menu_hr_holidays_management" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

    <record id="hr_holidays.menu_hr_available_holidays_report_tree" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

     <record id="hr_holidays.menu_open_department_leave_approve" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

     <record id="hr_holidays.menu_open_allocation" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

     <record id="hr_holidays.hr_holidays_menu_manager_approve_allocations" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

    <record id="hr_holidays.hr_leave_menu_my" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>

     <record id="hr_holidays.hr_leave_menu_new_request" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>


    <record id="hr_holidays.menu_hr_holidays_my_leaves" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.officer'))]"/>
    </record>





    <record model="res.groups" id="employee">
        <field name="name">employee</field>
        <field name="category_id" ref="module_egp_time_off"/>
    </record>
    
    <record id="hr_holidays.hr_leave_menu_my" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>

    </record>

    <record id="hr_holidays.menu_hr_holidays_my_leaves" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>

    </record>

    <record id="hr_holidays.menu_hr_holidays_report" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
    </record>

    <record id="hr_holidays.menu_hr_available_holidays_report_tree" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
    </record>
    <record id="hr_holidays.hr_leave_menu_new_request" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
    </record>

     <record id="hr_holidays.menu_open_allocation" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
    </record>

    <record id="hr_leave_group_employee" model="ir.rule">
        <field name="name">HR leave</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>

    <record id="hr_allocation_group_employee" model="ir.rule">
        <field name="name">HR allocation</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('egp_hr_time_off.employee'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
</odoo>
